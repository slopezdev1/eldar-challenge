<form [formGroup]="userForm" (ngSubmit)="sendUserData()" class="w-full flex flex-column gap-3 w-20rem">
    <div class="flex flex-column gap-2">
        <label for="user">Usuario</label>
        <input name="user" id="user" type="text" formControlName="name" pInputText />
        @if (hasError('name', 'required')) {
        <small class="text-red-500" id="password">
            El nombre es obligatorio
        </small>
        }
        @if (hasError('name', 'minlength')) {
        <small class="text-red-500" id="password">
            Debe contener mínimo 3 caracteres
        </small>
        }
    </div>
    <div class="flex flex-column gap-2">
        <label for="password">Contraseña</label>
        <input name="password" id="password" type="password" formControlName="password" pInputText />
        @if (hasError('password', 'required')) {
        <small class="text-red-500" id="password">
            La contraseña es obligatoria
        </small>
        }
        @if (hasError('password', 'pattern')) {
        <small class="text-red-500" id="password">
            Debe contener mínimo 8 caracteres, una mayúscula y un número
        </small>
        }
    </div>
    <div class="flex flex-column gap-2">
        <label for="password">Rol</label>
        <p-dropdown (onChange)="changeRol($event)" styleClass="w-full" formControlName="rol" [options]="listRol" placeholder="Elige el rol" />
        @if
        (hasError('password', 'required')) {
        <small class="text-red-500" id="password">
            Debe elegir un rol
        </small>
        }
    </div>
    <div class="flex flex-column gap-2">
        <label for="password">Permisos</label>
        <p-multiSelect styleClass="w-full" [options]="listPermission"  formControlName="permission" placeholder="Elige los permisos" />
        @if
        (hasError('password', 'required')) {
        <small class="text-red-500" id="password">
            Debe elegir al menos 1 permiso
        </small>
        }
    </div>
    <div class="w-full flex justify-content-center">
        <p-button type="submit">Crear</p-button>
    </div>
</form>